{% extends 'base.html' %}
{% block title %}{{item.name}}{% endblock%}

{% block content %}

<div class="my-3 h-[70vh] justify-items-start items-center grid grid-cols-2 bg-gradient-to-r from-cyan-500 to-cyan-100 rounded-lg">
 <div class='col-span-1'>
  {% load static %}
  <img src="{% static 'library/lib_banner.png' %}" class="rounded-xl w-[90%] h-[30vw]">
 </div>
 <div class='col-span-1'>
  <div>
    <h2 class='text-4xl font-bold'>A Place for Readers<h2>
    <p class='max-w-[250px]'>Visit us today and embark 
      on your next literary adventure</p>
  </div>
 </div>
</div>
<div class='grid grid-cols-6 gap-5'>
  <div class='col-span-5'>
    <form method="GET" action="{% url 'library:book_list' 1 %}" class='flex gap-5'>
      <input name='query' class="flex-1 px-6 py-4 border rounded-xl" type='text' value="{{ query }}" placeholder="Find a book name , author or ..." />
      <button type='submit' class='py-3 px-6 mt-2 text-lg text-white bg-teal-500 hover:bg-teal-700 rounded-xl w-[120px]'> Search </button>
    </form>
  </div>
 
  <div class='col-span-1 font-semibold'>
    <h5 class='text-cyan-600'>Genres</h5>
    <p>
      {% for genre in genres %}
          {% if genre.id == genre_id %} 
              
                  <a href="{% url 'library:book_list' 1 %}?query={{query}}&genre_id={{genre.id}}"><span class='bg-blue-200 rounded p-1'>{{genre.name}}<span></a>
              
          {% else %}
                  <a class='bg-cyan-100' href="{% url 'library:book_list' 1 %}?query={{query}}&genre_id={{genre.id}}">{{genre.name}}</a>
              
          {% endif %}
      {% endfor%}
      
        <a href="{% url 'library:book_list' 1 %}" 
            class='mt-2 py-1 px-2 bg-yellow-500 text-lg inline-block rounded-xl text-white'
        >Clear Filters</a>
    
    </p>
</div>
  
</div>
<h1 class='font-bold text-lg  text-center'>Available Books </h1>

<div class='my-3 grid sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-4'>

    
{% for book in books.object_list %}
<a class="max-w-lg border border-indigo-300 rounded-2xl hover:shadow-xl hover:shadow-indigo-50 flex flex-col items-center"
    href={%url 'library:book_detail' book.id %}>
    <img src={{'https://fakeimg.pl/667x1000/cc6600'}} class="shadow rounded-lg overflow-hidden w-full max-h-[350px]" >
    <div class="my-4 mx-4 ">
        <div class=''>
            <h4 class="font-bold text-xl">{{book.title}}  
                {% for gen in book.genre.object_list %}
                <span class='text-sky bg-amber-500 rounded-lg text-xs'>
                    {{gen}}
                </span>
                {% endfor %}
            </h4>
            <p class="mt-2 text-gray-600 text-sm">{{book.description}}
            </p>
            <span class='text-sky bg-lime-500 rounded-lg text-xs'>Available</span>
        </div>
        
        {% comment %} <div class="mt-5">
            <button type="button" class="inline-flex items-center rounded-md border border-transparent bg-gray-800 px-3 py-2 text-sm font-medium leading-4 text-white shadow-sm hover:bg-gray-900">Add to bucket</button>
        </div> {% endcomment %}
    </div>
</a>
   
{% endfor%}

</div>

<nav aria-label="Page navigation " class='flex justify-center items-center'>
    <ul class="list-style-none flex">
        {% if books.has_previous %}
          <li>
            <a class="relative block rounded-full  px-3 py-1.5 text-sm text-black transition-all duration-300 dark:hover:bg-neutral-700 dark:hover:text-white"
                href="{% url 'books:book_list' books.previous_page_number %}"
              >Previous</a>
          </li>
        {% endif %}
      
      <li>
        <a
          class="relative block rounded-full bg-transparent px-3 py-1.5 text-sm text-neutral-600 transition-all duration-300 hover:bg-neutral-100  text-black dark:hover:bg-neutral-700 dark:hover:text-white"
          href=""
          >{{books.number}}</a
        >
      </li>
      {% if books.has_next %}
      <li>
        <a
          class="relative block rounded-full  px-3 py-1.5 text-sm text-black transition-all duration-300 hover:bg-neutral-100  dark:hover:bg-neutral-700 dark:hover:text-white"
          href="{% url 'books:book_list' books.next_page_number %}">Next</a>
      </li>
        {% endif %}
      
    </ul>
{% endblock %}